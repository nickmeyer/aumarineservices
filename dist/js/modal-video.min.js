/**
 * Modules in this bundle
 * @license
 *
 * modal-video:
 *   license: appleple
 *   author: appleple
 *   homepage: http://developer.a-blogcms.jp
 *   version: 2.4.2
 *
 * custom-event-polyfill:
 *   license: MIT (http://opensource.org/licenses/MIT)
 *   contributors: Frank Panetta, Mikhail Reenko <reenko@yandex.ru>, Joscha Feth <joscha@feth.com>
 *   homepage: https://github.com/krambuhl/custom-event-polyfill#readme
 *   version: 0.3.0
 *
 * es6-object-assign:
 *   license: MIT (http://opensource.org/licenses/MIT)
 *   author: Rub√©n Norte <rubennorte@gmail.com>
 *   homepage: https://github.com/rubennorte/es6-object-assign
 *   version: 1.1.0
 *
 * This header is generated by licensify (https://github.com/twada/licensify)
 */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.ModalVideo=e()}}(function(){return function(){function e(t,n,o){function i(r,a){if(!n[r]){if(!t[r]){var u="function"==typeof require&&require;if(!a&&u)return u(r,!0);if(l)return l(r,!0);var d=new Error("Cannot find module '"+r+"'");throw d.code="MODULE_NOT_FOUND",d}var s=n[r]={exports:{}};t[r][0].call(s.exports,function(e){var n=t[r][1][e];return i(n||e)},s,s.exports,e,t,n,o)}return n[r].exports}for(var l="function"==typeof require&&require,r=0;r<o.length;r++)i(o[r]);return i}return e}()({1:[function(e,t,n){try{var o=new window.CustomEvent("test");if(o.preventDefault(),!0!==o.defaultPrevented)throw new Error("Could not prevent default")}catch(e){var i=function(e,t){var n,o;return t=t||{bubbles:!1,cancelable:!1,detail:void 0},n=document.createEvent("CustomEvent"),n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),o=n.preventDefault,n.preventDefault=function(){o.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(e){this.defaultPrevented=!0}},n};i.prototype=window.Event.prototype,window.CustomEvent=i}},{}],2:[function(e,t,n){"use strict";function o(e,t){if(void 0===e||null===e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),o=1;o<arguments.length;o++){var i=arguments[o];if(void 0!==i&&null!==i)for(var l=Object.keys(Object(i)),r=0,a=l.length;r<a;r++){var u=l[r],d=Object.getOwnPropertyDescriptor(i,u);void 0!==d&&d.enumerable&&(n[u]=i[u])}}return n}function i(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:o})}t.exports={assign:o,polyfill:i}},{}],3:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();e("custom-event-polyfill");var l=e("../lib/util"),r=e("es6-object-assign").assign,a={channel:"youtube",facebook:{},youtube:{autoplay:1,cc_load_policy:1,color:null,controls:1,disablekb:0,enablejsapi:0,end:null,fs:1,h1:null,iv_load_policy:1,list:null,listType:null,loop:0,modestbranding:null,mute:0,origin:null,playlist:null,playsinline:null,rel:0,showinfo:1,start:0,wmode:"transparent",theme:"dark",nocookie:!1},ratio:"16:9",vimeo:{api:!1,autopause:!0,autoplay:!0,byline:!0,callback:null,color:null,controls:!0,height:null,loop:!1,maxheight:null,maxwidth:null,muted:!1,player_id:null,portrait:!0,title:!0,width:null,xhtml:!1},allowFullScreen:!0,allowAutoplay:!0,animationSpeed:300,classNames:{modalVideo:"modal-video",modalVideoClose:"modal-video-close",modalVideoBody:"modal-video-body",modalVideoInner:"modal-video-inner",modalVideoIframeWrap:"modal-video-movie-wrap",modalVideoCloseBtn:"modal-video-close-btn"},aria:{openMessage:"You just openned the modal video",dismissBtnMessage:"Close the modal by clicking here"}},u=function(){function e(t,n){var i=this;o(this,e);var u=r({},a,n),d="string"==typeof t?document.querySelectorAll(t):t,s=document.querySelector("body"),c=u.classNames,f=u.animationSpeed;[].forEach.call(d,function(e){e.addEventListener("click",function(t){"A"===e.tagName&&t.preventDefault();var n=e.dataset.videoId,o=e.dataset.channel||u.channel,r=(0,l.getUniqId)(),a=e.dataset.videoUrl||i.getVideoUrl(u,o,n),d=i.getHtml(u,a,r);(0,l.append)(s,d);var v=document.getElementById(r),m=v.querySelector(".js-modal-video-dismiss-btn");v.focus(),v.addEventListener("click",function(){(0,l.addClass)(v,c.modalVideoClose),setTimeout(function(){(0,l.remove)(v),e.focus()},f)}),v.addEventListener("keydown",function(e){9===e.which&&(e.preventDefault(),document.activeElement===v?m.focus():(v.setAttribute("aria-label",""),v.focus()))}),m.addEventListener("click",function(){(0,l.triggerEvent)(v,"click")})})})}return i(e,[{key:"getPadding",value:function(e){var t=e.split(":"),n=Number(t[0]);return 100*Number(t[1])/n+"%"}},{key:"getQueryString",value:function(e){var t="";return Object.keys(e).forEach(function(n){t+=n+"="+e[n]+"&"}),t.substr(0,t.length-1)}},{key:"getVideoUrl",value:function(e,t,n){return"youtube"===t?this.getYoutubeUrl(e.youtube,n):"vimeo"===t?this.getVimeoUrl(e.vimeo,n):"facebook"===t?this.getFacebookUrl(e.facebook,n):""}},{key:"getVimeoUrl",value:function(e,t){return"//player.vimeo.com/video/"+t+"?"+this.getQueryString(e)}},{key:"getYoutubeUrl",value:function(e,t){var n=this.getQueryString(e);return!0===e.nocookie?"//www.youtube-nocookie.com/embed/"+t+"?"+n:"//www.youtube.com/embed/"+t+"?"+n}},{key:"getFacebookUrl",value:function(e,t){return"//www.facebook.com/v2.10/plugins/video.php?href=https://www.facebook.com/facebook/videos/"+t+"&"+this.getQueryString(e)}},{key:"getHtml",value:function(e,t,n){var o=this.getPadding(e.ratio),i=e.classNames;return'\n      <div class="'+i.modalVideo+'" tabindex="-1" role="dialog" aria-label="'+e.aria.openMessage+'" id="'+n+'">\n        <div class="'+i.modalVideoBody+'">\n          <div class="'+i.modalVideoInner+'">\n            <div class="'+i.modalVideoIframeWrap+'" style="padding-bottom:'+o+'">\n              <button class="'+i.modalVideoCloseBtn+' js-modal-video-dismiss-btn" aria-label="'+e.aria.dismissBtnMessage+"\"></button>\n              <iframe width='460' height='230' src=\"https:"+t+"\" frameborder='0' allowfullscreen="+e.allowFullScreen+' tabindex="-1" '+(e.allowAutoplay?'allow="autoplay"':"")+"/>\n            </div>\n          </div>\n        </div>\n      </div>\n    "}}]),e}();n.default=u,t.exports=n.default},{"../lib/util":5,"custom-event-polyfill":1,"es6-object-assign":2}],4:[function(e,t,n){"use strict";t.exports=e("./core/")},{"./core/":3}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.append=function(e,t){var n=document.createElement("div");for(n.innerHTML=t;n.children.length>0;)e.appendChild(n.children[0])},n.getUniqId=function(){return(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase()},n.remove=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},n.addClass=function(e,t){e.classList?e.classList.add(t):e.className+=" "+t},n.triggerEvent=function(e,t,n){var o=void 0;window.CustomEvent?o=new CustomEvent(t,{cancelable:!0}):(o=document.createEvent("CustomEvent"),o.initCustomEvent(t,!1,!1,n)),e.dispatchEvent(o)}},{}]},{},[4])(4)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJtb2RhbC12aWRlby5taW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBNb2R1bGVzIGluIHRoaXMgYnVuZGxlXG4gKiBAbGljZW5zZVxuICpcbiAqIG1vZGFsLXZpZGVvOlxuICogICBsaWNlbnNlOiBhcHBsZXBsZVxuICogICBhdXRob3I6IGFwcGxlcGxlXG4gKiAgIGhvbWVwYWdlOiBodHRwOi8vZGV2ZWxvcGVyLmEtYmxvZ2Ntcy5qcFxuICogICB2ZXJzaW9uOiAyLjQuMlxuICpcbiAqIGN1c3RvbS1ldmVudC1wb2x5ZmlsbDpcbiAqICAgbGljZW5zZTogTUlUIChodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUKVxuICogICBjb250cmlidXRvcnM6IEZyYW5rIFBhbmV0dGEsIE1pa2hhaWwgUmVlbmtvIDxyZWVua29AeWFuZGV4LnJ1PiwgSm9zY2hhIEZldGggPGpvc2NoYUBmZXRoLmNvbT5cbiAqICAgaG9tZXBhZ2U6IGh0dHBzOi8vZ2l0aHViLmNvbS9rcmFtYnVobC9jdXN0b20tZXZlbnQtcG9seWZpbGwjcmVhZG1lXG4gKiAgIHZlcnNpb246IDAuMy4wXG4gKlxuICogZXM2LW9iamVjdC1hc3NpZ246XG4gKiAgIGxpY2Vuc2U6IE1JVCAoaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVClcbiAqICAgYXV0aG9yOiBSdWLDqW4gTm9ydGUgPHJ1YmVubm9ydGVAZ21haWwuY29tPlxuICogICBob21lcGFnZTogaHR0cHM6Ly9naXRodWIuY29tL3J1YmVubm9ydGUvZXM2LW9iamVjdC1hc3NpZ25cbiAqICAgdmVyc2lvbjogMS4xLjBcbiAqXG4gKiBUaGlzIGhlYWRlciBpcyBnZW5lcmF0ZWQgYnkgbGljZW5zaWZ5IChodHRwczovL2dpdGh1Yi5jb20vdHdhZGEvbGljZW5zaWZ5KVxuICovXG4hZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGUpbW9kdWxlLmV4cG9ydHM9ZSgpO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSxlKTtlbHNle3ZhciB0O3Q9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjp0aGlzLHQuTW9kYWxWaWRlbz1lKCl9fShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxuLG8pe2Z1bmN0aW9uIGkocixhKXtpZighbltyXSl7aWYoIXRbcl0pe3ZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWEmJnUpcmV0dXJuIHUociwhMCk7aWYobClyZXR1cm4gbChyLCEwKTt2YXIgZD1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK3IrXCInXCIpO3Rocm93IGQuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixkfXZhciBzPW5bcl09e2V4cG9ydHM6e319O3Rbcl1bMF0uY2FsbChzLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtyXVsxXVtlXTtyZXR1cm4gaShufHxlKX0scyxzLmV4cG9ydHMsZSx0LG4sbyl9cmV0dXJuIG5bcl0uZXhwb3J0c31mb3IodmFyIGw9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxyPTA7cjxvLmxlbmd0aDtyKyspaShvW3JdKTtyZXR1cm4gaX1yZXR1cm4gZX0oKSh7MTpbZnVuY3Rpb24oZSx0LG4pe3RyeXt2YXIgbz1uZXcgd2luZG93LkN1c3RvbUV2ZW50KFwidGVzdFwiKTtpZihvLnByZXZlbnREZWZhdWx0KCksITAhPT1vLmRlZmF1bHRQcmV2ZW50ZWQpdGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IHByZXZlbnQgZGVmYXVsdFwiKX1jYXRjaChlKXt2YXIgaT1mdW5jdGlvbihlLHQpe3ZhciBuLG87cmV0dXJuIHQ9dHx8e2J1YmJsZXM6ITEsY2FuY2VsYWJsZTohMSxkZXRhaWw6dm9pZCAwfSxuPWRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiQ3VzdG9tRXZlbnRcIiksbi5pbml0Q3VzdG9tRXZlbnQoZSx0LmJ1YmJsZXMsdC5jYW5jZWxhYmxlLHQuZGV0YWlsKSxvPW4ucHJldmVudERlZmF1bHQsbi5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe28uY2FsbCh0aGlzKTt0cnl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJkZWZhdWx0UHJldmVudGVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiEwfX0pfWNhdGNoKGUpe3RoaXMuZGVmYXVsdFByZXZlbnRlZD0hMH19LG59O2kucHJvdG90eXBlPXdpbmRvdy5FdmVudC5wcm90b3R5cGUsd2luZG93LkN1c3RvbUV2ZW50PWl9fSx7fV0sMjpbZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSx0KXtpZih2b2lkIDA9PT1lfHxudWxsPT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNvbnZlcnQgZmlyc3QgYXJndW1lbnQgdG8gb2JqZWN0XCIpO2Zvcih2YXIgbj1PYmplY3QoZSksbz0xO288YXJndW1lbnRzLmxlbmd0aDtvKyspe3ZhciBpPWFyZ3VtZW50c1tvXTtpZih2b2lkIDAhPT1pJiZudWxsIT09aSlmb3IodmFyIGw9T2JqZWN0LmtleXMoT2JqZWN0KGkpKSxyPTAsYT1sLmxlbmd0aDtyPGE7cisrKXt2YXIgdT1sW3JdLGQ9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHUpO3ZvaWQgMCE9PWQmJmQuZW51bWVyYWJsZSYmKG5bdV09aVt1XSl9fXJldHVybiBufWZ1bmN0aW9uIGkoKXtPYmplY3QuYXNzaWdufHxPYmplY3QuZGVmaW5lUHJvcGVydHkoT2JqZWN0LFwiYXNzaWduXCIse2VudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOm99KX10LmV4cG9ydHM9e2Fzc2lnbjpvLHBvbHlmaWxsOml9fSx7fV0sMzpbZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG8oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgbz10W25dO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxvLmtleSxvKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixvKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxvJiZlKHQsbyksdH19KCk7ZShcImN1c3RvbS1ldmVudC1wb2x5ZmlsbFwiKTt2YXIgbD1lKFwiLi4vbGliL3V0aWxcIikscj1lKFwiZXM2LW9iamVjdC1hc3NpZ25cIikuYXNzaWduLGE9e2NoYW5uZWw6XCJ5b3V0dWJlXCIsZmFjZWJvb2s6e30seW91dHViZTp7YXV0b3BsYXk6MSxjY19sb2FkX3BvbGljeToxLGNvbG9yOm51bGwsY29udHJvbHM6MSxkaXNhYmxla2I6MCxlbmFibGVqc2FwaTowLGVuZDpudWxsLGZzOjEsaDE6bnVsbCxpdl9sb2FkX3BvbGljeToxLGxpc3Q6bnVsbCxsaXN0VHlwZTpudWxsLGxvb3A6MCxtb2Rlc3RicmFuZGluZzpudWxsLG11dGU6MCxvcmlnaW46bnVsbCxwbGF5bGlzdDpudWxsLHBsYXlzaW5saW5lOm51bGwscmVsOjAsc2hvd2luZm86MSxzdGFydDowLHdtb2RlOlwidHJhbnNwYXJlbnRcIix0aGVtZTpcImRhcmtcIixub2Nvb2tpZTohMX0scmF0aW86XCIxNjo5XCIsdmltZW86e2FwaTohMSxhdXRvcGF1c2U6ITAsYXV0b3BsYXk6ITAsYnlsaW5lOiEwLGNhbGxiYWNrOm51bGwsY29sb3I6bnVsbCxjb250cm9sczohMCxoZWlnaHQ6bnVsbCxsb29wOiExLG1heGhlaWdodDpudWxsLG1heHdpZHRoOm51bGwsbXV0ZWQ6ITEscGxheWVyX2lkOm51bGwscG9ydHJhaXQ6ITAsdGl0bGU6ITAsd2lkdGg6bnVsbCx4aHRtbDohMX0sYWxsb3dGdWxsU2NyZWVuOiEwLGFsbG93QXV0b3BsYXk6ITAsYW5pbWF0aW9uU3BlZWQ6MzAwLGNsYXNzTmFtZXM6e21vZGFsVmlkZW86XCJtb2RhbC12aWRlb1wiLG1vZGFsVmlkZW9DbG9zZTpcIm1vZGFsLXZpZGVvLWNsb3NlXCIsbW9kYWxWaWRlb0JvZHk6XCJtb2RhbC12aWRlby1ib2R5XCIsbW9kYWxWaWRlb0lubmVyOlwibW9kYWwtdmlkZW8taW5uZXJcIixtb2RhbFZpZGVvSWZyYW1lV3JhcDpcIm1vZGFsLXZpZGVvLW1vdmllLXdyYXBcIixtb2RhbFZpZGVvQ2xvc2VCdG46XCJtb2RhbC12aWRlby1jbG9zZS1idG5cIn0sYXJpYTp7b3Blbk1lc3NhZ2U6XCJZb3UganVzdCBvcGVubmVkIHRoZSBtb2RhbCB2aWRlb1wiLGRpc21pc3NCdG5NZXNzYWdlOlwiQ2xvc2UgdGhlIG1vZGFsIGJ5IGNsaWNraW5nIGhlcmVcIn19LHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQsbil7dmFyIGk9dGhpcztvKHRoaXMsZSk7dmFyIHU9cih7fSxhLG4pLGQ9XCJzdHJpbmdcIj09dHlwZW9mIHQ/ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh0KTp0LHM9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJvZHlcIiksYz11LmNsYXNzTmFtZXMsZj11LmFuaW1hdGlvblNwZWVkO1tdLmZvckVhY2guY2FsbChkLGZ1bmN0aW9uKGUpe2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24odCl7XCJBXCI9PT1lLnRhZ05hbWUmJnQucHJldmVudERlZmF1bHQoKTt2YXIgbj1lLmRhdGFzZXQudmlkZW9JZCxvPWUuZGF0YXNldC5jaGFubmVsfHx1LmNoYW5uZWwscj0oMCxsLmdldFVuaXFJZCkoKSxhPWUuZGF0YXNldC52aWRlb1VybHx8aS5nZXRWaWRlb1VybCh1LG8sbiksZD1pLmdldEh0bWwodSxhLHIpOygwLGwuYXBwZW5kKShzLGQpO3ZhciB2PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHIpLG09di5xdWVyeVNlbGVjdG9yKFwiLmpzLW1vZGFsLXZpZGVvLWRpc21pc3MtYnRuXCIpO3YuZm9jdXMoKSx2LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKCl7KDAsbC5hZGRDbGFzcykodixjLm1vZGFsVmlkZW9DbG9zZSksc2V0VGltZW91dChmdW5jdGlvbigpeygwLGwucmVtb3ZlKSh2KSxlLmZvY3VzKCl9LGYpfSksdi5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLGZ1bmN0aW9uKGUpezk9PT1lLndoaWNoJiYoZS5wcmV2ZW50RGVmYXVsdCgpLGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ9PT12P20uZm9jdXMoKToodi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsXCJcIiksdi5mb2N1cygpKSl9KSxtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKCl7KDAsbC50cmlnZ2VyRXZlbnQpKHYsXCJjbGlja1wiKX0pfSl9KX1yZXR1cm4gaShlLFt7a2V5OlwiZ2V0UGFkZGluZ1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuc3BsaXQoXCI6XCIpLG49TnVtYmVyKHRbMF0pO3JldHVybiAxMDAqTnVtYmVyKHRbMV0pL24rXCIlXCJ9fSx7a2V5OlwiZ2V0UXVlcnlTdHJpbmdcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD1cIlwiO3JldHVybiBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uKG4pe3QrPW4rXCI9XCIrZVtuXStcIiZcIn0pLHQuc3Vic3RyKDAsdC5sZW5ndGgtMSl9fSx7a2V5OlwiZ2V0VmlkZW9VcmxcIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7cmV0dXJuXCJ5b3V0dWJlXCI9PT10P3RoaXMuZ2V0WW91dHViZVVybChlLnlvdXR1YmUsbik6XCJ2aW1lb1wiPT09dD90aGlzLmdldFZpbWVvVXJsKGUudmltZW8sbik6XCJmYWNlYm9va1wiPT09dD90aGlzLmdldEZhY2Vib29rVXJsKGUuZmFjZWJvb2ssbik6XCJcIn19LHtrZXk6XCJnZXRWaW1lb1VybFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuXCIvL3BsYXllci52aW1lby5jb20vdmlkZW8vXCIrdCtcIj9cIit0aGlzLmdldFF1ZXJ5U3RyaW5nKGUpfX0se2tleTpcImdldFlvdXR1YmVVcmxcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuZ2V0UXVlcnlTdHJpbmcoZSk7cmV0dXJuITA9PT1lLm5vY29va2llP1wiLy93d3cueW91dHViZS1ub2Nvb2tpZS5jb20vZW1iZWQvXCIrdCtcIj9cIituOlwiLy93d3cueW91dHViZS5jb20vZW1iZWQvXCIrdCtcIj9cIitufX0se2tleTpcImdldEZhY2Vib29rVXJsXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm5cIi8vd3d3LmZhY2Vib29rLmNvbS92Mi4xMC9wbHVnaW5zL3ZpZGVvLnBocD9ocmVmPWh0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS9mYWNlYm9vay92aWRlb3MvXCIrdCtcIiZcIit0aGlzLmdldFF1ZXJ5U3RyaW5nKGUpfX0se2tleTpcImdldEh0bWxcIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7dmFyIG89dGhpcy5nZXRQYWRkaW5nKGUucmF0aW8pLGk9ZS5jbGFzc05hbWVzO3JldHVybidcXG4gICAgICA8ZGl2IGNsYXNzPVwiJytpLm1vZGFsVmlkZW8rJ1wiIHRhYmluZGV4PVwiLTFcIiByb2xlPVwiZGlhbG9nXCIgYXJpYS1sYWJlbD1cIicrZS5hcmlhLm9wZW5NZXNzYWdlKydcIiBpZD1cIicrbisnXCI+XFxuICAgICAgICA8ZGl2IGNsYXNzPVwiJytpLm1vZGFsVmlkZW9Cb2R5KydcIj5cXG4gICAgICAgICAgPGRpdiBjbGFzcz1cIicraS5tb2RhbFZpZGVvSW5uZXIrJ1wiPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCInK2kubW9kYWxWaWRlb0lmcmFtZVdyYXArJ1wiIHN0eWxlPVwicGFkZGluZy1ib3R0b206JytvKydcIj5cXG4gICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCInK2kubW9kYWxWaWRlb0Nsb3NlQnRuKycganMtbW9kYWwtdmlkZW8tZGlzbWlzcy1idG5cIiBhcmlhLWxhYmVsPVwiJytlLmFyaWEuZGlzbWlzc0J0bk1lc3NhZ2UrXCJcXFwiPjwvYnV0dG9uPlxcbiAgICAgICAgICAgICAgPGlmcmFtZSB3aWR0aD0nNDYwJyBoZWlnaHQ9JzIzMCcgc3JjPVxcXCJodHRwczpcIit0K1wiXFxcIiBmcmFtZWJvcmRlcj0nMCcgYWxsb3dmdWxsc2NyZWVuPVwiK2UuYWxsb3dGdWxsU2NyZWVuKycgdGFiaW5kZXg9XCItMVwiICcrKGUuYWxsb3dBdXRvcGxheT8nYWxsb3c9XCJhdXRvcGxheVwiJzpcIlwiKStcIi8+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgPC9kaXY+XFxuICAgIFwifX1dKSxlfSgpO24uZGVmYXVsdD11LHQuZXhwb3J0cz1uLmRlZmF1bHR9LHtcIi4uL2xpYi91dGlsXCI6NSxcImN1c3RvbS1ldmVudC1wb2x5ZmlsbFwiOjEsXCJlczYtb2JqZWN0LWFzc2lnblwiOjJ9XSw0OltmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dC5leHBvcnRzPWUoXCIuL2NvcmUvXCIpfSx7XCIuL2NvcmUvXCI6M31dLDU6W2Z1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkobixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTtuLmFwcGVuZD1mdW5jdGlvbihlLHQpe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7Zm9yKG4uaW5uZXJIVE1MPXQ7bi5jaGlsZHJlbi5sZW5ndGg+MDspZS5hcHBlbmRDaGlsZChuLmNoaWxkcmVuWzBdKX0sbi5nZXRVbmlxSWQ9ZnVuY3Rpb24oKXtyZXR1cm4oRGF0ZS5ub3coKS50b1N0cmluZygzNikrTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsNSkpLnRvVXBwZXJDYXNlKCl9LG4ucmVtb3ZlPWZ1bmN0aW9uKGUpe2UmJmUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpfSxuLmFkZENsYXNzPWZ1bmN0aW9uKGUsdCl7ZS5jbGFzc0xpc3Q/ZS5jbGFzc0xpc3QuYWRkKHQpOmUuY2xhc3NOYW1lKz1cIiBcIit0fSxuLnRyaWdnZXJFdmVudD1mdW5jdGlvbihlLHQsbil7dmFyIG89dm9pZCAwO3dpbmRvdy5DdXN0b21FdmVudD9vPW5ldyBDdXN0b21FdmVudCh0LHtjYW5jZWxhYmxlOiEwfSk6KG89ZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJDdXN0b21FdmVudFwiKSxvLmluaXRDdXN0b21FdmVudCh0LCExLCExLG4pKSxlLmRpc3BhdGNoRXZlbnQobyl9fSx7fV19LHt9LFs0XSkoNCl9KTsiXSwiZmlsZSI6Im1vZGFsLXZpZGVvLm1pbi5qcyJ9
